Global:
  tool: build_submitter
  languages:
    # Java Version: 1.7, 1.8, 9, 10
    - language: java
      version: 11
  envs:
    # Maven Version: 3.0.4, 3.1.1, 3.2.5, 3.3.9, 3.5.3
    - env: maven
      version: 3.5.3
Default:
  profile: [ dev ]
Profiles:
  - profile:
    name: dev
    tool: build_submitter
    env: DECK_CENTOS6U3_K3
    command: sh ipipe_build.sh
    release: true

  - profile:
    name: mvndeploy
    env: DECK_CENTOS6U3_K3
    command: env && export JAVA_HOME=\$JAVA_HOME_V11 && export PATH=\$JAVA_HOME/bin:\$MAVEN_3_5_3_HOME/bin:\$PATH && java -version && mvn -v && sh install-plugin.sh && mvn clean source:jar deploy -Dmaven.test.skip=true
    release: false
